<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>DoS, DDoS e Botnets</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="../css/normalize.css">
  <link rel="stylesheet" href="../css/skeleton.css">
  <link rel="stylesheet" href="../css/custom.css">

  <!-- Favicon
  <link rel="icon" type="image/png" href="images/favicon.png">
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

  <!-- Scripts
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script src="../js/jquery.min.js"></script>
  <script src="../js/site.js"></script>

</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">

    <div class="navbar-spacer"></div>

    <nav class="navbar">
      <div class="container">
        <ul class="navbar-list">
          <li class="navbar-item"><a class="navbar-link" href="#intro">Introdução</a></li>
		  <li class="navbar-item">
            <a class="navbar-link" href="pages/hist.html" data-popover="#contextPopover"><i>Contextualização</i></a>
            <div id="contextPopover" class="popover">
              <ul class="popover-list">
                <li class="popover-item">
                  <a class="popover-link" href="pages/hist.html#1">História?</a>
                </li>
                <li class="popover-item">
                  <a class="popover-link" href="pages/hist.html#2">Notícias</a>
                </li>
              </ul>
            </div>
          </li>
          <li class="navbar-item">
            <a class="navbar-link" href="pages/dos.html" data-popover="#dosPopover"><i>DoS</i></a>
            <div id="dosPopover" class="popover">
              <ul class="popover-list">
                <li class="popover-item">
                  <a class="popover-link" href="pages/dos.html#1">O que é?</a>
                </li>
                <li class="popover-item">
                  <a class="popover-link" href="pages/dos.html#2">Métodos de ataque</a>
                </li>
              </ul>
            </div>
          </li>
          <li class="navbar-item">
            <a class="navbar-link" href="pages/ddos.html" data-popover="#ddosPopover"><i>DDoS</i></a>
            <div id="ddosPopover" class="popover">
              <ul class="popover-list">
                <li class="popover-item">
                  <a class="popover-link" href="pages/ddos.html#1">Um caso particular de negação de serviços</a>
                </li>
                <li class="popover-item">
                  <a class="popover-link" href="pages/ddos.html#2">Tipos</a>
                </li>
              </ul>
            </div>
          </li>
          <li class="navbar-item">
            <a class="navbar-link" href="pages/bots.html" data-popover="#botPopover"><i>Botnets</i></a>
            <div id="botPopover" class="popover">
              <ul class="popover-list">
                <li class="popover-item">
                  <a class="popover-link" href="pages/bots.html#1">O que são bots?</a>
                </li>
                <li class="popover-item">
                  <a class="popover-link" href="pages/bots.html#2">Botnet</a>
                </li>
                <li class="popover-item">
                  <a class="popover-link" href="pages/bots.html#3">IRC</a>
                </li>
                <li class="popover-item">
                  <a class="popover-link" href="pages/bots.html#4"><i>Como se propaga – atacante e vítima , prioridade de contaminação</i></a>
                </li>
                <li class="popover-item">
                  <a class="popover-link" href="pages/bots.html#5">Topologias de comunicação da botnet</a>
                </li>
                <li class="popover-item">
                  <a class="popover-link" href="pages/bots.html#6">Atividades Maliciosas</a>
                </li>
                <li class="popover-item">
                  <a class="popover-link" href="pages/bots.html#7">Botnets legais</a>
                </li>
              </ul>
            </div>
          </li>
          <li class="navbar-item">
            <a class="navbar-link" href="pages/prot.html" data-popover="#protPopover">Proteção</a>
            <div id="protPopover" class="popover">
              <ul class="popover-list">
                <li class="popover-item">
                  <a class="popover-link" href="pages/prot.html#1">Prevenir</a>
                </li>
                <li class="popover-item">
                  <a class="popover-link" href="pages/prot.html#2">Detectar</a>
                </li>
                <li class="popover-item">
                  <a class="popover-link" href="pages/prot.html#3">Responder</a>
                </li>
              </ul>
            </div>
          </li>          
          <li class="navbar-item"><a class="navbar-link" href="pages/conc.html">Conclusão</a></li>
		  <li class="navbar-item"><a class="navbar-link" href="pages/quest.html">Questões</a></li>
          <li class="navbar-item"><a class="navbar-link" href="pages/ref.html">Referências</a></li>
        </ul>
      </div>
    </nav>

    <section class="header">
      <div class="row">
      <h4 class="title">3. <i>Denial of Service</i> - Negação de Serviço (DoS)</h4>
      </div>
    </section>

    <!-- 3.1. O quê é? -->
    <div class="docs-section" id="1">
      <h5 class="docs-header">3.1. O quê é?</h5>
      <div class="example-grid docs-example">

        <div class="row">
            <div class="container">
              <h6></h6>
              <p>Os ataques de <i>Denial of Service</i>, ou <b>Negação de Serviço</b>, são, como o nome diz, um tipo de ataque cujo objetivo é <b>interromper ou prejudicar o fornecimento de um serviço</b>. Por exemplo, um ataque <i>DoS</i> pode ser realizado para sobrecarregar uma rede de modo a torná-la lenta, para afetar a estabilidade de serviços de e-mail ou para impedir o acesso de uma página da Internet.</p>
              <p>Nesses ataques, são exploradas vulnerabilidades dos sistemas operacionais e dos protocolos de rede usados pela máquina-alvo, de modo a sobrecarregar o seu alvo. Dessa forma, usuários legítimos ficam impedidos de acessar o serviço, pois o servidor não consegue processar suas requisições.</p>
            </div>
        </div>

      </div>
    </div>

    <!-- 3.2. Métodos de Ataque -->
    <div class="docs-section" id="2">
      <h5 class="docs-header">3.2. Métodos de Ataque</h5>
      <div class="example-grid docs-example">

        <div class="row">
            <div class="container">
              <h6>3.2.1 <i>Syn Flooding</i></h6>
              <p>Os alvos desse tipo de ataque são máquinas que usam o <i>TCP</i> (<i>Transmission Control Protocol</i>), um dos protocolos usados na <i>Internet</i>, na camada de transporte. Esse ataque explora o processo do <i>handshake</i>, usado para iniciar uma conexão. Esse processo consiste no envio de três pacotes entre cliente e servidor: <i>SYN</i>, <i>SYN-ACK</i> e <i>ACK</i>. Além disso, o servidor usa uma estrutura de dados chamada <i>Transmission Control Block</i> (<i>TCB</i>) para armazenar os dados da conexão em sua memória.
            </p><p>
            Para estabelecer uma conexão normal, o cliente envia um pacote <i>SYN</i> para o servidor, solicitando a conexão. Ao receber esse pacote, o servidor responde com o <i>SYN-ACK</i>, uma confirmação de recebimento, e reserva um TCB para essa conexão no estado <i>SYN-RECEIVED</i>, que indica que a conexão está parcialmente aberta e que sua validade ainda não foi confirmada. Quando o cliente recebe o <i>SYN-ACK</i>, ele envia o pacote <i>ACK</i> para o servidor, que, recebendo-o, abre a conexão e muda o <i>TCB</i> para o estado <i>ESTABLISHED</i> (conexão estabelecida).
            </p><p>
            O ataque explora essa funcionalidade enviando vários pacotes <i>SYN</i> para a máquina-alvo, sem enviar os <i>ACK</i>s de resposta. Dessa forma, o alvo armazena <i>TCB</i>s até que sua memória é esgotada, ponto no qual ele não consegue processar mais requisições. Para evitar esse esgotamento que pode parar a máquina, os sistemas operacionais limitam a quantidade de <i>TCB</i>s armazenados no estado <i>SYN-RECEIVED</i> por um valor chamado de <i>backlog</i>. Porém, mesmo assim, o ataque impede a formação de novas conexões, pois o limite é alcançado.
            </p><p>
            Esse ataque pode ser feito de forma direta, ou seja, sem mascarar o endereço <i>IP</i> do atacante. Essa forma de ataque pode ser facilmente interrompida incluindo-se um filtro de <i>IP</i> no firewall, impedindo a recepção de pacotes vindos do computador atacante.
            </p><p>
            Outra alternativa é fazer o chamado <i>IP Spoofing</i>, ou seja, o mascaramento de endereços <i>IP</i>, aproveitando-se do fato de que não há verificação do remetente nos comutadores da rede. Para fazer isso, o atacante deve inserir cabeçalhos de <i>TCP</i> e <i>IP</i> válidos nos pacotes, ou seja, deve usar endereços <i>IP</i> válidos. Pode-se usar um único endereço de alguma máquina que não vai enviar um <i>ACK</i> de resposta porque ela não existe ou por causa de alguma propriedade da rede ou usar vários endereços de uma lista, esperando que as máquinas de alguns desses endereços não respondam. A desvantagem de usar um único <i>IP</i> é que, novamente, pode-se usar um filtro de <i>IP</i>s para evitar o ataque.
            </p><p>
            A vantagem do <i>SYN Flooding</i> é que ele precisa do envio de menos pacotes do que um ataque de força bruta, uma vez que os <i>TCB</i>s são armazenados por um longo tempo até serem descartados.</p>
            </div>
        </div>

        <div class="row">
            <div class="container">
              <h6>3.2.2. Ataque <i>Smurf</i></h6>
              <p>Esse ataque usa o <i>Internet Control Message Protocol</i> (<i>ICMP</i>), usado para troca de mensagens de controle, tratamento de erros e diagnósticos de rede. Esse protocolo pode ser usado para verificar se uma máquina da <i>Internet</i> está respondendo, enviando um pacote de “requisição de eco” (<i>echo request</i>). Ao receber esse pacote, a máquina responde com um pacote de resposta ao eco (<i>echo reply packet</i>).  Uma implementação comum desse processo é o comando <i><b>ping</b></i>, implementado em vários sistemas operacionais e softwares relacionados a redes de computadores.</p>
            <p>Essa funcionalidade pode ser explorada enviando-se vários pacotes de requisição de eco para o endereço <i>IP</i> de <i>broadcast</i>. Um pacote enviado para esse endereço é recebido por um comutador da rede local e retransmitido para todos os computadores dentro da rede local definida por esse endereço, e isso é possível de ser feito por uma máquina dentro ou fora da rede local. Esses pacotes têm o endereço <i>IP</i> do remetente mascarado com o endereço <i>IP</i> da máquina da vítima.</p>
            <p>Ao receberem os pacotes de requisição de eco, todas as máquinas da rede local respondem com outro pacote de resposta ao eco. Como são feitas várias requisições, a rede fica congestionada. Além disso, como o endereço <i>IP</i> de remetente das requisições é o endereço da máquina vítima, localizada nessa rede, a vítima recebe, além das requisições de eco, as respostas de todos os nós da rede, incluindo a própria vítima, causando instabilidade e podendo impossibilitá-la de fornecer serviços.</p>
            <p>O nome <i>Smurf</i> vem de um programa popular para realizar esse tipo de ataque.</p>
            </div>
        </div>

        <div class="row">
            <div class="container">
              <h6>3.2.3. Ataques <i>Fraggle</i></h6>
              <p>Esses ataques são variantes do ataque <i>Smurf</i> para o protocolo <i>UDP</i> (<i>User Datagram Protocol</i>). A diferença é que os pacotes <i>UDP</i>, depois de utilizado o <i>IP Spoofing</i>, são enviados para a porta 7 do protocolo (porta de eco). Ao receber esse pacote, o comutador da rede local retransmite o pacote de requisição para todos os nós da rede e as respostas são enviadas para a vítima.</p>
            </div>
        </div>

        <div class="row">
            <div class="container">
              <h6>3.2.4. <i>Ping</i> da morte</h6>
              <p>O ataque do <i>ping</i> da morte utiliza as funcionalidades de fragmentação e remontagem dos pacotes, usadas na transmissão de dados. O tamanho máximo de um pacote <i>IP</i>, com cabeçalho, é 65535 <i>bytes</i>. A camada de enlace limita o tamanho dos quadros a um valor, que para uma rede <i>Ethernet</i> é de 1500 bytes. Assim, um pacote <i>IP</i> é dividido em vários pacotes <i>IP</i> (fragmentos) e enviados. No <i>ping</i> da morte, os dados são manipulados de forma que o receptor dos dados forma um pacote maior que 65535 <i>bytes</i> na remontagem, o que pode estourar <i>buffers</i> da memória, causando a negação do serviço.</p>
            </div>
        </div>

        <div class="row">
            <div class="container">
              <h6>3.2.5. <i>HTTP Flood</i></h6>
              <p>Esse ataque explora as requisições do <i>HTTP</i> (<i>Hypertext Transfer Protocol</i>), principalmente as requisições <i>GET</i> e <i>POST</i> para atacar um servidor web. As requisições <i>GET</i> são usadas para obter conteúdo estático, como texto e imagens, do servidor, enquanto as requisições POST são usadas para obter recursos gerados dinamicamente.</p>
            <p>O objetivo do ataque é enviar várias requisições de processamento de conteúdo para o servidor, de forma a esgotar os recursos do alvo. Por isso, as requisições <i>POST</i> tendem a ser mais eficientes, uma vez que exigem processamento mais complexo por parte do servidor. No entanto, ataques por requisições <i>GET</i> são mais simples e mais escaláveis se forem distribuídos.</p>
            </div>
        </div>

        <div class="row">
            <div class="container">
              <h6>3.2.6. Ataques de Amplificação <i>DNS</i></h6>
              <p>O DNS (Domain Name System) é um sistema de gerenciamento de nomes para identificação de computadores, serviços ou qualquer recurso, usado na Internet e em redes locais. Ele associa nomes para endereços IP e endereços IP para nomes. Há servidores DNS autoritativos e recursivos. Os servidores autoritativos possuem armazenadas associações entre nomes de domínio e endereços IP, e os servidores recursivos recebem as requisições de um cliente e enviam requisições a outros servidores DNS para descobrir o endereço IP do domínio solicitado.</p>
              <p>Em um ataque de amplificação DNS, é enviado um grande número de solicitações para um ou mais servidores de nomes, usando-se um endereço IP de origem mascarado com o IP da vítima. Com o IP de origem mascarado, o servidor envia as respostas à vítima. Essas respostas são de tamanhos maiores que as requisições. Com a adoção das DNSSEC (DNS Security Extensions), as respostas dos servidores DNS passaram a carregar chaves criptográficas e assinaturas digitais, o que aumenta o tamanho da resposta. Além disso, se a requisição for do tipo “ANY”, que solicita todas as informações sobre um domínio, o tamanho da resposta é ainda maior. Dessa forma, mesmo que os atacantes tenham baixas larguras de banda, eles podem causar grandes impactos na máquina-alvo e na rede que ela está utilizando.</p>
              <p>Para enviar essas requisições, é usado o protocolo UDP (User Datagram Protocol), que não é orientado à conexão, ou seja, que não possui confirmações de entrega e confirmação do remetente por apresentação (handshake). O uso desse protocolo combinado com o fato de que há vários servidores recursivos que aceitam requisições de qualquer IP, chamados de resolvedores abertos (ou open resolvers), na Internet, torna difícil bloquear esse tipo de ataque.</p>
            </div>
        </div>

        <div class="row">
          <div class="container">
          <h6>3.2.7. <i>UDP Flooding</i></h6>
          <p>Esse ataque explora a ausência de apresentação do protocolo UDP, também aproveitada nos ataques de amplificação DNS. Por não requerer essa autenticação, os pacotes UDP possuem um menor cabeçalho, permitindo transferências de dados com menor overhead. Como não há um limite estabelecido para a taxa de transmissão e não há especificações sobre o tamanho e formato dos pacotes no UDP, atacantes podem criar pacotes grandes (geralmente por volta de 8 KB), preenchê-los com informações aleatórias e enviá-los rapidamente para portas aleatórias da máquina-alvo. Quando a vítima recebe esses pacotes, ela procura aplicações que estejam monitorando essas portas. Como ela não irá encontrar nenhuma aplicação usando essas portas, ela envia um pacote do ICMP de volta ao endereço IP do remetente que transmite a informação de que o destino desses pacotes não pôde ser alcançado (destination unreachable). Com o envio de um número grande de pacotes, a vítima esgota seus recursos recebendo, procurando aplicações usando as portas e enviando as respostas. Para o atacante não receber as respostas, ele pode mascarar seu endereço IP com o endereço de outra máquina qualquer. Além disso, alguns ataques desse tipo utilizam amplificação, utilizando mensagens de resposta de outras máquinas direcionadas à vítima.</p>
          </div>
        </div>

      </div>
    </div>

  </div>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
